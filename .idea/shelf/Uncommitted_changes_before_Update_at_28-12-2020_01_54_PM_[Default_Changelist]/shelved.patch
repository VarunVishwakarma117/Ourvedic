Index: app/src/main/res/layout/activity_billing__details.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Billing_Details\">\r\n\r\n    <Button\r\n        android:id=\"@+id/confirmqqorder\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Go To Home\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_billing__details.xml	(revision 0a4f8344039e9c76cae7196546d62fb93fe53afe)
+++ app/src/main/res/layout/activity_billing__details.xml	(date 1609143876226)
@@ -1,18 +1,144 @@
 <?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     tools:context=".Billing_Details">
 
+    <androidx.cardview.widget.CardView
+        android:id="@+id/billing_details"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_margin="15dp">
+        <RelativeLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:padding="15dp"
+            android:orientation="vertical">
+            <TextView
+                android:id="@+id/billing_name"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:text="Ankur Thakur"
+                android:layout_margin="5dp"
+                android:textAppearance="?android:textAppearanceMedium"
+                android:textColor="@android:color/black"
+                android:textStyle="bold"/>
+            <TextView
+                android:id="@+id/billing_number"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="6394812186"
+                android:layout_margin="5dp"
+                android:layout_below="@id/billing_name"
+                android:textColor="@android:color/black"/>
+            <TextView
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_margin="5dp"
+                android:layout_below="@id/billing_number"
+                android:text="Thakur's House, Infront of N.S. Mall, Madhpura, Kannauj, UP - 209725"
+                android:textColor="@android:color/black"/>
+            <ImageView
+                android:layout_width="25dp"
+                android:layout_height="25dp"
+                android:layout_margin="5dp"
+                android:src="@drawable/ic_baseline_edit_24"
+                android:layout_alignParentEnd="true"/>
+        </RelativeLayout>
+    </androidx.cardview.widget.CardView>
+
+    <ListView
+        android:id="@+id/billing_lv"
+        android:layout_marginLeft="15dp"
+        android:layout_marginRight="15dp"
+        android:layout_width="match_parent"
+        android:layout_height="400dp"
+        android:layout_below="@id/billing_details"/>
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="15dp"
+        android:layout_marginEnd="15dp"
+        android:layout_below="@id/billing_lv">
+        <TextView
+            android:id="@+id/billing_price"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="5dp"
+            android:text="Price"
+            android:textSize="16sp"
+            android:textColor="@android:color/black" />
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentEnd="true"
+            android:layout_marginTop="5dp"
+            android:text="₹1000"
+            android:textSize="16sp"
+            android:textColor="@android:color/black" />
+        <TextView
+            android:id="@+id/billing_tv_totalamount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="Total Amount"
+            android:layout_marginTop="10dp"
+            android:layout_below="@id/billing_delivery_charges"
+            android:textAppearance="?android:textAppearanceMedium"
+            android:textColor="@android:color/black"/>
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentEnd="true"
+            android:text="₹1000"
+            android:layout_marginTop="10dp"
+            android:layout_below="@id/billing_delivery_charges"
+            android:textColor="@android:color/black"
+            android:textAppearance="?android:textAppearanceMedium"/>
+        <TextView
+            android:id="@+id/billing_delivery_charges"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentEnd="true"
+            android:layout_marginTop="5dp"
+            android:text="Free"
+            android:textSize="16sp"
+            android:layout_below="@id/billing_price"
+            android:textColor="@android:color/black" />
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="5dp"
+            android:textSize="16sp"
+            android:text="Delivery Charges"
+            android:layout_below="@id/billing_price"
+            android:textColor="@android:color/black" />
+
+        <View
+            android:id="@+id/divider5"
+            android:layout_width="match_parent"
+            android:layout_below="@id/billing_delivery_charges"
+            android:layout_marginTop="5dp"
+            android:layout_height="1dp"
+            android:background="?android:attr/listDivider" />
+    </RelativeLayout>
+
     <Button
         android:id="@+id/confirmqqorder"
-        android:layout_width="wrap_content"
+        android:layout_width="match_parent"
         android:layout_height="wrap_content"
-        android:text="Go To Home"
+        android:layout_alignParentBottom="true"
+        android:layout_centerHorizontal="true"
+        android:text="Confirm Order"
+        android:textColor="@android:color/white"
+        android:background="@drawable/background_rounded"
+        android:layout_margin="15dp"
+        android:textStyle="bold"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toTopOf="parent" />
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/com/abhi/ourvedic/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.abhi.ourvedic;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Menu;\r\nimport android.widget.Toast;\r\n\r\nimport com.abhi.ourvedic.roomdatabase.MyDatabase;\r\nimport com.abhi.ourvedic.roomdatabase.RoomDB;\r\nimport com.abhi.ourvedic.ui.profile.ProfileFragment;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n    FirebaseUser user = mAuth.getCurrentUser();\r\n    GoogleSignInClient mGoogleSignInClient;\r\n    LoginButton loginButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cart_intent = new Intent(getApplicationContext(),CartActivity.class);\r\n                startActivity(cart_intent);\r\n            }\r\n        });\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow, R.id.profileFragment)\r\n                .setDrawerLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.passwordreset:\r\n                passwordreset();\r\n                break;\r\n\r\n            case R.id.deleteaccount:\r\n                deleteuser();\r\n                break;\r\n\r\n            case R.id.logout:\r\n                logout();\r\n                break;\r\n            default:\r\n                Toast.makeText(this, \"Something is wrong\", Toast.LENGTH_SHORT).show();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void passwordreset() {\r\n        SharedPreferences sh = getSharedPreferences(\"LoginID\", Context.MODE_PRIVATE);\r\n        String emailaddress = sh.getString(\"email\",null);\r\n        Intent intent = new Intent(MainActivity.this,ResetPassword.class);\r\n        intent.putExtra(\"email\",emailaddress);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void deleteuser() {\r\n        user.delete()\r\n                .addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<Void> task) {\r\n                        if (task.isSuccessful()) {\r\n                            Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void logout() {\r\n        loginButton = new LoginButton(MainActivity.this);\r\n        loginButton.performClick();\r\n        mAuth.signOut();\r\n        mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                MyDatabase myDatabase = RoomDB.database(MainActivity.this);\r\n                myDatabase.dao().deleteprofiledata(1);\r\n                Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/abhi/ourvedic/MainActivity.java	(revision 0a4f8344039e9c76cae7196546d62fb93fe53afe)
+++ app/src/main/java/com/abhi/ourvedic/MainActivity.java	(date 1608986041327)
@@ -125,8 +125,6 @@
     }
 
     private void logout() {
-        loginButton = new LoginButton(MainActivity.this);
-        loginButton.performClick();
         mAuth.signOut();
         mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {
             @Override
Index: app/src/main/java/com/abhi/ourvedic/LoginPage.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.abhi.ourvedic;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.AccessTokenTracker;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.GraphRequest;\r\nimport com.facebook.GraphResponse;\r\nimport com.facebook.login.LoginResult;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.SignInButton;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class LoginPage extends AppCompatActivity {\r\n\r\n    ProgressDialog progressDialog;\r\n    private static final String TAG = \"loginpage\";\r\n    private EditText temail, tpassword;\r\n    private GoogleSignInClient mgoogleSignInClient;\r\n    private String emailPattern = \"[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+\";\r\n    private static final String EMAIL = \"email\";\r\n    private TextView forgetText;\r\n    TextView login_as_admin;\r\n    TextView facebook_sign_in_button;\r\n    private CallbackManager callbackManager;\r\n    LoginButton loginButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_page);\r\n\r\n        progressDialog = new ProgressDialog(LoginPage.this);\r\n        RelativeLayout signInButton = findViewById(R.id.sign_in_button);\r\n        temail = findViewById(R.id.loginemailteacher);\r\n        tpassword = findViewById(R.id.loginpasswordteacher);\r\n        forgetText = findViewById(R.id.forgetpassword);\r\n        login_as_admin = findViewById(R.id.login_as_admin);\r\n        login_as_admin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(LoginPage.this, Admin_Panel_Login.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        forgetText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(LoginPage.this, ForgetPassword.class));\r\n            }\r\n        });\r\n        signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressDialog.setCancelable(false);\r\n                progressDialog.show();\r\n                progressDialog.setContentView(R.layout.progress_dialog_view);\r\n                progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                signIn();\r\n            }\r\n        });\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        // Build a GoogleSignInClient with the options specified by gso.\r\n        mgoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n\r\n\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        facebook_sign_in_button = findViewById(R.id.facebook_sign_in_button);\r\n        facebook_sign_in_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                loginButton.performClick();\r\n            }\r\n        });\r\n\r\n        loginButton = findViewById(R.id.login_button);\r\n        loginButton.setReadPermissions(Arrays.asList(EMAIL));\r\n\r\n        loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {\r\n            @Override\r\n            public void onSuccess(LoginResult loginResult) {\r\n                // App code\r\n            }\r\n\r\n            @Override\r\n            public void onCancel() {\r\n                // App code\r\n            }\r\n\r\n            @Override\r\n            public void onError(FacebookException exception) {\r\n                // App code\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    public void registrationbutton(View view) {\r\n        Intent i = new Intent(LoginPage.this, RegistrationPage.class);\r\n        startActivity(i);\r\n    }\r\n\r\n    public void loginbuttonteacher(View view) {\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.show();\r\n        progressDialog.setContentView(R.layout.progress_dialog_view);\r\n        progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n        final String email = temail.getText().toString().trim();\r\n        String password = tpassword.getText().toString();\r\n\r\n        if (email.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (!email.matches(emailPattern)) {\r\n            Toast.makeText(getApplicationContext(), \"not valid email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (password.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter password\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else {\r\n            FirebaseAuth.getInstance().signInWithEmailAndPassword(email, password)\r\n                    .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<AuthResult> task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user's information\r\n                                SharedPreferences sh = getSharedPreferences(\"email\", Context.MODE_PRIVATE);\r\n                                SharedPreferences.Editor edit = sh.edit();\r\n                                edit.putString(\"email\", email);\r\n                                edit.commit();\r\n                                Log.d(TAG, \"signInWithEmail:success\");\r\n                                gotonext();\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Log.w(TAG, \"signInWithEmail:failure\", task.getException());\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(LoginPage.this, \"Authentication failed.\",\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            // ...\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    private void gotonext() {\r\n        progressDialog.dismiss();\r\n        Intent i = new Intent(LoginPage.this, MainActivity.class);\r\n        startActivity(i);\r\n        finish();\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mgoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, 1001);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        callbackManager.onActivityResult(requestCode, resultCode, data); //for facebook login\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == 1001) {\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, \"firebaseAuthWithGoogle:\" + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, \"Google sign in failed\", e);\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n        FirebaseAuth.getInstance().signInWithCredential(credential)\r\n                .addOnCompleteListener(LoginPage.this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user's information\r\n                            Log.d(TAG, \"signInWithCredential:success\");\r\n                            progressDialog.dismiss();\r\n                            gotonext();\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            progressDialog.dismiss();\r\n                            Log.w(TAG, \"signInWithCredential:failure\", task.getException());\r\n                        }\r\n                        // ...\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    AccessTokenTracker tokenTracker = new AccessTokenTracker() {\r\n        @Override\r\n        protected void onCurrentAccessTokenChanged(AccessToken oldAccessToken, AccessToken currentAccessToken) {\r\n            if (currentAccessToken != null) {\r\n                Intent i2 = new Intent(LoginPage.this, MainActivity.class);\r\n                startActivity(i2);\r\n            } else {\r\n                loadUserProfile(currentAccessToken);\r\n            }\r\n        }\r\n    };\r\n\r\n    public void loadUserProfile(AccessToken newAccessToken) {\r\n        GraphRequest request = GraphRequest.newMeRequest(newAccessToken, new GraphRequest.GraphJSONObjectCallback() {\r\n            @Override\r\n            public void onCompleted(JSONObject object, GraphResponse response) {\r\n\r\n                Toast.makeText(LoginPage.this, \"Two\",Toast.LENGTH_SHORT).show();\r\n\r\n                //for abhishek\r\n                    /*\r\n                try {\r\n\r\n                    first_name = object.getString(\"first_name\");\r\n                    last_name = object.getString(\"last_name\");\r\n                    email = object.getString(\"email\");\r\n                    id = object.getString(\"id\");\r\n                    String img_url = \"https://graph.facebook.com/\"+ id + \"/picture?type=normal\";\r\n\r\n\r\n                    Intent i = new Intent(LoginActivity.this, MainActivity.class);\r\n                    i.putExtra(\"name\", first_name + \" \" + last_name);\r\n                    i.putExtra(\"email\", email);\r\n                    i.putExtra(\"img_url\", img_url);\r\n                    Log.v(\"name\", first_name + last_name);\r\n                    Log.v(\"email\", email);\r\n                    startActivity(i);\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                */\r\n            }\r\n        });\r\n        Bundle parameters = new Bundle();\r\n        parameters.putString(\"fields\", \"first_name,last_name,email,id\");\r\n        request.setParameters(parameters);\r\n        request.executeAsync();\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/abhi/ourvedic/LoginPage.java	(revision 0a4f8344039e9c76cae7196546d62fb93fe53afe)
+++ app/src/main/java/com/abhi/ourvedic/LoginPage.java	(date 1608986041303)
@@ -254,8 +254,6 @@
             @Override
             public void onCompleted(JSONObject object, GraphResponse response) {
 
-                Toast.makeText(LoginPage.this, "Two",Toast.LENGTH_SHORT).show();
-
                 //for abhishek
                     /*
                 try {
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_1.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_1.xml	(date 1609139040401)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_1.xml	(date 1609139040401)
@@ -0,0 +1,4 @@
+<changelist name="Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]1" date="1608923895068" recycled="true" deleted="true">
+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]1/shelved.patch" />
+  <option name="DESCRIPTION" value="Uncommitted changes before Update at 25-12-2020 11:46 PM [Default Changelist]" />
+</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM__Default_Changelist_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM__Default_Changelist_.xml	(date 1609139040376)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM__Default_Changelist_.xml	(date 1609139040376)
@@ -0,0 +1,4 @@
+<changelist name="Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM_[Default_Changelist]" date="1608882071328" recycled="true" deleted="true">
+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM_[Default_Changelist]/shelved.patch" />
+  <option name="DESCRIPTION" value="Uncommitted changes before Update at 25-12-2020 01:11 PM [Default Changelist]" />
+</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_.xml	(date 1609139040389)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM__Default_Changelist_.xml	(date 1609139040389)
@@ -0,0 +1,4 @@
+<changelist name="Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]" date="1608920194458" recycled="false" toDelete="true">
+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]/shelved.patch" />
+  <option name="DESCRIPTION" value="Uncommitted changes before Update at 25-12-2020 11:46 PM [Default Changelist]" />
+</changelist>
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.abhi.ourvedic\">\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n    <uses-permission android:name=\"android.permission.VIBRATE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@drawable/logo\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n\r\n        <meta-data android:name=\"com.facebook.sdk.ApplicationId\"\r\n            android:value=\"@string/facebook_app_id\"/>\r\n\r\n        <activity android:name=\"com.facebook.FacebookActivity\"\r\n            android:configChanges=\r\n                \"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\r\n            android:label=\"@string/app_name\" />\r\n\r\n        <activity android:name=\".ConfirmOrder\"></activity>\r\n        <activity android:name=\".Admin_Panel_Login\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".Current_Ordre_Ap\" />\r\n        <activity android:name=\".Admin_Panel\" />\r\n        <activity android:name=\".Billing_Details\" />\r\n        <activity android:name=\".CartActivity\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".MainActivity\" />\r\n        </activity> <!-- <service -->\r\n        <!-- android:name=\".service.ServiceDataWifi\" -->\r\n        <!-- android:enabled=\"true\" -->\r\n        <!-- android:exported=\"true\" /> -->\r\n        <activity android:name=\".ResetPassword\" />\r\n        <activity android:name=\".ForgetPassword\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".LoginPage\" />\r\n        <activity android:name=\".RegistrationPage\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".MainActivity\" />\r\n        <activity\r\n            android:name=\".Splash_Screen1\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 0a4f8344039e9c76cae7196546d62fb93fe53afe)
+++ app/src/main/AndroidManifest.xml	(date 1609140100917)
@@ -47,7 +47,10 @@
         </activity>
         <activity android:name=".Current_Ordre_Ap" />
         <activity android:name=".Admin_Panel" />
-        <activity android:name=".Billing_Details" />
+        <activity android:name=".Billing_Details" >
+            <meta-data android:name="android.support.PARENT_ACTIVITY"
+                android:value=".CartActivity"/>
+        </activity>
         <activity android:name=".CartActivity">
             <meta-data
                 android:name="android.support.PARENT_ACTIVITY"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM_[Default_Changelist]/shelved.patch
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM_[Default_Changelist]/shelved.patch	(date 1608882070012)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_01_11_PM_[Default_Changelist]/shelved.patch	(date 1608882070012)
@@ -0,0 +1,374 @@
+Index: app/src/main/java/com/abhi/ourvedic/MainActivity.java
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>package com.abhi.ourvedic;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Menu;\r\nimport android.widget.Toast;\r\n\r\nimport com.abhi.ourvedic.roomdatabase.MyDatabase;\r\nimport com.abhi.ourvedic.roomdatabase.RoomDB;\r\nimport com.abhi.ourvedic.ui.profile.ProfileFragment;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n    FirebaseUser user = mAuth.getCurrentUser();\r\n    GoogleSignInClient mGoogleSignInClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cart_intent = new Intent(getApplicationContext(),CartActivity.class);\r\n                startActivity(cart_intent);\r\n            }\r\n        });\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow, R.id.profileFragment)\r\n                .setDrawerLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.passwordreset:\r\n                passwordreset();\r\n                break;\r\n\r\n            case R.id.deleteaccount:\r\n                deleteuser();\r\n                break;\r\n\r\n            case R.id.logout:\r\n                logout();\r\n                break;\r\n            default:\r\n                Toast.makeText(this, \"Something is wrong\", Toast.LENGTH_SHORT).show();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void passwordreset() {\r\n        SharedPreferences sh = getSharedPreferences(\"LoginID\", Context.MODE_PRIVATE);\r\n        String emailaddress = sh.getString(\"email\",null);\r\n        Intent intent = new Intent(MainActivity.this,ResetPassword.class);\r\n        intent.putExtra(\"email\",emailaddress);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void deleteuser() {\r\n        user.delete()\r\n                .addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<Void> task) {\r\n                        if (task.isSuccessful()) {\r\n                            Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void logout() {\r\n        mAuth.signOut();\r\n        mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                MyDatabase myDatabase = RoomDB.database(MainActivity.this);\r\n                myDatabase.dao().deleteprofiledata(1);\r\n                Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n}
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/java/com/abhi/ourvedic/MainActivity.java	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/java/com/abhi/ourvedic/MainActivity.java	(date 1608879568487)
+@@ -12,6 +12,7 @@
+ import com.abhi.ourvedic.roomdatabase.MyDatabase;
+ import com.abhi.ourvedic.roomdatabase.RoomDB;
+ import com.abhi.ourvedic.ui.profile.ProfileFragment;
++import com.facebook.login.widget.LoginButton;
+ import com.google.android.gms.auth.api.signin.GoogleSignIn;
+ import com.google.android.gms.auth.api.signin.GoogleSignInClient;
+ import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
+@@ -39,6 +40,7 @@
+     FirebaseAuth mAuth = FirebaseAuth.getInstance();
+     FirebaseUser user = mAuth.getCurrentUser();
+     GoogleSignInClient mGoogleSignInClient;
++    LoginButton loginButton;
+ 
+     @Override
+     protected void onCreate(Bundle savedInstanceState) {
+@@ -123,6 +125,8 @@
+     }
+ 
+     private void logout() {
++        loginButton = new LoginButton(MainActivity.this);
++        loginButton.performClick();
+         mAuth.signOut();
+         mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {
+             @Override
+Index: app/src/main/res/layout/activity_admin__panel.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#ffffff\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".Admin_Panel\">\r\n    <TextView\r\n        android:id=\"@+id/tv_admin_panel\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"ADMIN PANEL\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textAppearance=\"?android:textAppearanceLarge\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginBottom=\"15dp\"/>\r\n    <GridLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:columnCount=\"2\">\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/current_orders\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_current_orders\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Current Orders\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_report\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Orders History\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_stock\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Stock\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/pins\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Report\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_profits\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"transaction\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_profile\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"User Profile\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n    </GridLayout>\r\n</LinearLayout>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/layout/activity_admin__panel.xml	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/res/layout/activity_admin__panel.xml	(date 1608743671612)
+@@ -21,7 +21,7 @@
+     <GridLayout
+         android:layout_width="wrap_content"
+         android:layout_height="wrap_content"
+-        android:layout_gravity="center_horizontal"
++        android:layout_gravity="center"
+         android:columnCount="2">
+         <androidx.cardview.widget.CardView
+             android:id="@+id/current_orders"
+@@ -36,8 +36,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_current_orders"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -60,8 +60,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_report"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -84,8 +84,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_stock"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -108,8 +108,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/pins"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -132,8 +132,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_profits"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -156,8 +156,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_profile"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+Index: app/src/main/res/layout/activity_login_page.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:background=\"@drawable/background\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center\"\r\n        android:orientation=\"vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        android:paddingTop=\"20dp\"\r\n        android:paddingBottom=\"20dp\"\r\n        android:paddingEnd=\"10dp\"\r\n        android:paddingStart=\"10dp\"\r\n        tools:context=\".LoginPage\">\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"5dp\"\r\n            android:focusableInTouchMode=\"true\"\r\n            android:background=\"@drawable/bg_login_page_button1\"\r\n            android:textColorHint=\"#ffffff\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/loginemailteacher\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:textColor=\"#ffffff\"\r\n                android:backgroundTint=\"@android:color/transparent\"\r\n                android:textCursorDrawable=\"@drawable/cursor_color\"\r\n                android:paddingStart=\"30dp\"\r\n                android:paddingEnd=\"10dp\"\r\n                android:hint=\"Enter Your Email\" />\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            app:passwordToggleEnabled=\"true\"\r\n            app:passwordToggleTint=\"#ffffff\"\r\n            android:padding=\"5dp\"\r\n            android:background=\"@drawable/bg_login_page_button1\"\r\n            android:textColorHint=\"#ffffff\"\r\n            android:textColor=\"#ffffff\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/loginpasswordteacher\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:textColor=\"#ffffff\"\r\n                android:hint=\"Enter Your Password\"\r\n                android:textCursorDrawable=\"@drawable/cursor_color\"\r\n                android:backgroundTint=\"@android:color/transparent\"\r\n                android:paddingStart=\"30dp\"\r\n                android:paddingEnd=\"20dp\"\r\n                android:inputType=\"textPassword\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"75dp\"\r\n            android:orientation=\"horizontal\">\r\n            <TextView\r\n                android:id=\"@+id/login_as_admin\"\r\n                android:focusable=\"false\"\r\n                android:layout_weight=\"1\"\r\n                android:textSize=\"18sp\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Login as Admin\"\r\n                android:layout_gravity=\"center\"\r\n                android:textColor=\"#ffffff\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"/>\r\n            <TextView\r\n                android:id=\"@+id/forgetpassword\"\r\n                android:layout_weight=\"1\"\r\n                android:focusable=\"false\"\r\n                android:textSize=\"18sp\"\r\n                android:text=\"Forget Password?\"\r\n                android:textColor=\"#ffffff\"\r\n                android:gravity=\"center\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"/>\r\n        </LinearLayout>\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n            <Button\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"3dp\"\r\n                android:layout_weight=\"1\"\r\n                android:background=\"@drawable/bg_login_page_button2\"\r\n                android:onClick=\"loginbuttonteacher\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"        login        \"\r\n                android:textColor=\"#000000\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <Button\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"3dp\"\r\n                android:layout_weight=\"1\"\r\n                android:padding=\"15dp\"\r\n                android:textColor=\"#000000\"\r\n                android:textStyle=\"bold\"\r\n                android:background=\"@drawable/bg_login_page_button2\"\r\n                android:onClick=\"registrationbutton\"\r\n                android:text=\"registration\" />\r\n\r\n        </LinearLayout>\r\n        <RelativeLayout\r\n            android:id=\"@+id/sign_in_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@drawable/bg_login_page_button2\"\r\n            android:layout_marginTop=\"20dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/sign_in_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_centerHorizontal=\"true\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"Sign In\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"18sp\"\r\n                android:textStyle=\"bold\"\r\n                android:translationX=\"10dp\" />\r\n\r\n            <ImageView\r\n                android:layout_width=\"25dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_toStartOf=\"@id/sign_in_text\"\r\n                android:src=\"@drawable/g_plus_icon\"\r\n                android:translationX=\"10dp\" />\r\n        </RelativeLayout>\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@drawable/bg_login_page_button2\"\r\n            android:layout_marginTop=\"20dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/facebook_sign_in_button\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_centerHorizontal=\"true\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"Sign In\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"18dp\"\r\n                android:textStyle=\"bold\"\r\n                android:translationX=\"10dp\" />\r\n\r\n            <ImageView\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_toStartOf=\"@id/facebook_sign_in_button\"\r\n                android:src=\"@drawable/facebook_icon\"\r\n                android:translationX=\"10dp\" />\r\n        </RelativeLayout>\r\n    </LinearLayout>\r\n\r\n</ScrollView>\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/layout/activity_login_page.xml	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/res/layout/activity_login_page.xml	(date 1608810141602)
+@@ -152,7 +152,11 @@
+             android:layout_height="wrap_content"
+             android:background="@drawable/bg_login_page_button2"
+             android:layout_marginTop="20dp">
+-
++            <com.facebook.login.widget.LoginButton
++                android:id="@+id/login_button"
++                android:layout_width="wrap_content"
++                android:layout_height="wrap_content"
++                android:visibility="gone" />
+             <TextView
+                 android:id="@+id/facebook_sign_in_button"
+                 android:layout_width="wrap_content"
+Index: app/src/main/java/com/abhi/ourvedic/LoginPage.java
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>package com.abhi.ourvedic;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.SignInButton;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class LoginPage extends AppCompatActivity {\r\n\r\n    ProgressDialog progressDialog;\r\n    private static final String TAG = \"loginpage\";\r\n    private EditText temail, tpassword;\r\n    private GoogleSignInClient mgoogleSignInClient;\r\n    private String emailPattern = \"[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+\";\r\n    private static final String EMAIL = \"email\";\r\n    private TextView forgetText;\r\n    TextView login_as_admin;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_page);\r\n\r\n        progressDialog = new ProgressDialog(LoginPage.this);\r\n        RelativeLayout signInButton = findViewById(R.id.sign_in_button);\r\n        temail = findViewById(R.id.loginemailteacher);\r\n        tpassword = findViewById(R.id.loginpasswordteacher);\r\n        forgetText = findViewById(R.id.forgetpassword);\r\n        login_as_admin = findViewById(R.id.login_as_admin);\r\n        login_as_admin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(LoginPage.this, Admin_Panel_Login.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        forgetText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(LoginPage.this,ForgetPassword.class));\r\n            }\r\n        });\r\n        signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressDialog.setCancelable(false);\r\n                progressDialog.show();\r\n                progressDialog.setContentView(R.layout.progress_dialog_view);\r\n                progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                signIn();\r\n            }\r\n        });\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        // Build a GoogleSignInClient with the options specified by gso.\r\n        mgoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    }\r\n\r\n\r\n    public void registrationbutton(View view) {\r\n        Intent i = new Intent(LoginPage.this, RegistrationPage.class);\r\n        startActivity(i);\r\n    }\r\n\r\n    public void loginbuttonteacher(View view) {\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.show();\r\n        progressDialog.setContentView(R.layout.progress_dialog_view);\r\n        progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n        final String email = temail.getText().toString().trim();\r\n        String password = tpassword.getText().toString();\r\n\r\n        if (email.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (!email.matches(emailPattern)) {\r\n            Toast.makeText(getApplicationContext(), \"not valid email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (password.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter password\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else {\r\n            FirebaseAuth.getInstance().signInWithEmailAndPassword(email, password)\r\n                    .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<AuthResult> task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user's information\r\n                                SharedPreferences sh = getSharedPreferences(\"email\", Context.MODE_PRIVATE);\r\n                                SharedPreferences.Editor edit = sh.edit();\r\n                                edit.putString(\"email\",email);\r\n                                edit.commit();\r\n                                Log.d(TAG, \"signInWithEmail:success\");\r\n                                gotonext();\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Log.w(TAG, \"signInWithEmail:failure\", task.getException());\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(LoginPage.this, \"Authentication failed.\",\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            // ...\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    private void gotonext() {\r\n        progressDialog.dismiss();\r\n        Intent i = new Intent(LoginPage.this, MainActivity.class);\r\n        startActivity(i);\r\n        finish();\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mgoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, 1001);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == 1001) {\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, \"firebaseAuthWithGoogle:\" + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, \"Google sign in failed\", e);\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n        FirebaseAuth.getInstance().signInWithCredential(credential)\r\n                .addOnCompleteListener(LoginPage.this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user's information\r\n                            Log.d(TAG, \"signInWithCredential:success\");\r\n                            progressDialog.dismiss();\r\n                            gotonext();\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            progressDialog.dismiss();\r\n                            Log.w(TAG, \"signInWithCredential:failure\", task.getException());\r\n                        }\r\n                        // ...\r\n                    }\r\n                });\r\n    }\r\n\r\n}\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/java/com/abhi/ourvedic/LoginPage.java	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/java/com/abhi/ourvedic/LoginPage.java	(date 1608878937819)
+@@ -15,6 +15,15 @@
+ import androidx.annotation.NonNull;
+ import androidx.appcompat.app.AppCompatActivity;
+ 
++import com.facebook.AccessToken;
++import com.facebook.AccessTokenTracker;
++import com.facebook.CallbackManager;
++import com.facebook.FacebookCallback;
++import com.facebook.FacebookException;
++import com.facebook.GraphRequest;
++import com.facebook.GraphResponse;
++import com.facebook.login.LoginResult;
++import com.facebook.login.widget.LoginButton;
+ import com.google.android.gms.auth.api.signin.GoogleSignIn;
+ import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
+ import com.google.android.gms.auth.api.signin.GoogleSignInClient;
+@@ -29,6 +38,11 @@
+ import com.google.firebase.auth.FirebaseAuth;
+ import com.google.firebase.auth.GoogleAuthProvider;
+ 
++import org.json.JSONException;
++import org.json.JSONObject;
++
++import java.util.Arrays;
++
+ public class LoginPage extends AppCompatActivity {
+ 
+     ProgressDialog progressDialog;
+@@ -39,6 +53,9 @@
+     private static final String EMAIL = "email";
+     private TextView forgetText;
+     TextView login_as_admin;
++    TextView facebook_sign_in_button;
++    private CallbackManager callbackManager;
++    LoginButton loginButton;
+ 
+     @Override
+     protected void onCreate(Bundle savedInstanceState) {
+@@ -62,7 +79,7 @@
+         forgetText.setOnClickListener(new View.OnClickListener() {
+             @Override
+             public void onClick(View view) {
+-                startActivity(new Intent(LoginPage.this,ForgetPassword.class));
++                startActivity(new Intent(LoginPage.this, ForgetPassword.class));
+             }
+         });
+         signInButton.setOnClickListener(new View.OnClickListener() {
+@@ -82,6 +99,39 @@
+                 .build();
+         // Build a GoogleSignInClient with the options specified by gso.
+         mgoogleSignInClient = GoogleSignIn.getClient(this, gso);
++
++
++        callbackManager = CallbackManager.Factory.create();
++
++        facebook_sign_in_button = findViewById(R.id.facebook_sign_in_button);
++        facebook_sign_in_button.setOnClickListener(new View.OnClickListener() {
++            @Override
++            public void onClick(View view) {
++                loginButton.performClick();
++            }
++        });
++
++        loginButton = findViewById(R.id.login_button);
++        loginButton.setReadPermissions(Arrays.asList(EMAIL));
++
++        loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {
++            @Override
++            public void onSuccess(LoginResult loginResult) {
++                // App code
++            }
++
++            @Override
++            public void onCancel() {
++                // App code
++            }
++
++            @Override
++            public void onError(FacebookException exception) {
++                // App code
++            }
++        });
++
++
+     }
+ 
+ 
+@@ -116,7 +166,7 @@
+                                 // Sign in success, update UI with the signed-in user's information
+                                 SharedPreferences sh = getSharedPreferences("email", Context.MODE_PRIVATE);
+                                 SharedPreferences.Editor edit = sh.edit();
+-                                edit.putString("email",email);
++                                edit.putString("email", email);
+                                 edit.commit();
+                                 Log.d(TAG, "signInWithEmail:success");
+                                 gotonext();
+@@ -148,6 +198,7 @@
+     @Override
+     public void onActivityResult(int requestCode, int resultCode, Intent data) {
+         super.onActivityResult(requestCode, resultCode, data);
++        callbackManager.onActivityResult(requestCode, resultCode, data); //for facebook login
+         // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);
+         if (requestCode == 1001) {
+             Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
+@@ -183,6 +234,57 @@
+                         // ...
+                     }
+                 });
++
+     }
++
++    AccessTokenTracker tokenTracker = new AccessTokenTracker() {
++        @Override
++        protected void onCurrentAccessTokenChanged(AccessToken oldAccessToken, AccessToken currentAccessToken) {
++            if (currentAccessToken != null) {
++                Intent i2 = new Intent(LoginPage.this, MainActivity.class);
++                startActivity(i2);
++            } else {
++                loadUserProfile(currentAccessToken);
++            }
++        }
++    };
++
++    public void loadUserProfile(AccessToken newAccessToken) {
++        GraphRequest request = GraphRequest.newMeRequest(newAccessToken, new GraphRequest.GraphJSONObjectCallback() {
++            @Override
++            public void onCompleted(JSONObject object, GraphResponse response) {
++
++                Toast.makeText(LoginPage.this, "Two",Toast.LENGTH_SHORT).show();
++
++                //for abhishek
++                    /*
++                try {
++
++                    first_name = object.getString("first_name");
++                    last_name = object.getString("last_name");
++                    email = object.getString("email");
++                    id = object.getString("id");
++                    String img_url = "https://graph.facebook.com/"+ id + "/picture?type=normal";
++
++
++                    Intent i = new Intent(LoginActivity.this, MainActivity.class);
++                    i.putExtra("name", first_name + " " + last_name);
++                    i.putExtra("email", email);
++                    i.putExtra("img_url", img_url);
++                    Log.v("name", first_name + last_name);
++                    Log.v("email", email);
++                    startActivity(i);
++
++                } catch (JSONException e) {
++                    e.printStackTrace();
++                }
++                */
++            }
++        });
++        Bundle parameters = new Bundle();
++        parameters.putString("fields", "first_name,last_name,email,id");
++        request.setParameters(parameters);
++        request.executeAsync();
+ 
++    }
+ }
+Index: app/build.gradle
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.abhi.ourvedic\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'androidx.navigation:navigation-fragment:2.3.2'\r\n    implementation 'androidx.navigation:navigation-ui:2.3.2'\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.1'\r\n    implementation 'com.google.firebase:firebase-database:19.6.0'\r\n    implementation 'com.google.firebase:firebase-storage:19.2.1'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.firebase:firebase-dynamic-links'\r\n    implementation 'com.google.firebase:firebase-analytics'\r\n    implementation 'androidx.room:room-runtime:2.2.6'\r\n    testImplementation 'junit:junit:4.13.1'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n    implementation platform('com.google.firebase:firebase-bom:26.0.0')\r\n    implementation 'com.google.firebase:firebase-auth'\r\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\r\n    implementation 'com.google.android.gms:play-services-safetynet:17.0.0'\r\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\r\n    annotationProcessor 'androidx.room:room-compiler:2.2.6'\r\n\r\n}\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/build.gradle	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/build.gradle	(date 1608806983972)
+@@ -50,5 +50,6 @@
+     implementation 'com.github.bumptech.glide:glide:4.11.0'
+     annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'
+     annotationProcessor 'androidx.room:room-compiler:2.2.6'
++    implementation 'com.facebook.android:facebook-login:5.0.0'
+ 
+ }
+Index: app/src/main/res/values/strings.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><resources>\r\n    <string name=\"app_name\">Ourvedic</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n\r\n    <string name=\"menu_home\">Home</string>\r\n    <string name=\"menu_gallery\">Booking</string>\r\n    <string name=\"menu_slideshow\">Settings</string>\r\n    <string name=\"profile\">Profile</string>\r\n    <string name=\"passwordreset\">Password Reset</string>\r\n    <string name=\"deleteaccount\">Delete Account</string>\r\n    <string name=\"logout\">Logout</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"flat_house_no_building_apartment\">Flat, House no., Building, Apartment</string>\r\n    <string name=\"area_colony_street_no_sector\">Area, Colony, Street no., Sector</string>\r\n    <string name=\"landmark_e_g_near_apollo_hospital\">Landmark e.g. near Apollo Hospital</string>\r\n    <string name=\"town_city_with_state\">Town/City with State</string>\r\n    <string name=\"pin_code\">PIN code</string>\r\n    <string name=\"phone_number\">Phone Number</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"full_name\">Full Name</string>\r\n</resources>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/values/strings.xml	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/res/values/strings.xml	(date 1608806470869)
+@@ -6,6 +6,10 @@
+     <string name="nav_header_subtitle">android.studio@android.com</string>
+     <string name="nav_header_desc">Navigation header</string>
+ 
++    <string name="facebook_app_id">217810733256076</string>
++    <string name="fb_login_protocol_scheme">fb217810733256076</string>
++
++
+     <string name="menu_home">Home</string>
+     <string name="menu_gallery">Booking</string>
+     <string name="menu_slideshow">Settings</string>
+Index: app/src/main/AndroidManifest.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.abhi.ourvedic\">\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n    <uses-permission android:name=\"android.permission.VIBRATE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@drawable/logo\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".Admin_Panel_Login\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".Current_Ordre_Ap\" />\r\n        <activity android:name=\".Admin_Panel\" ></activity>\r\n        <activity android:name=\".Billing_Details\" />\r\n        <activity android:name=\".CartActivity\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".MainActivity\" />\r\n        </activity> <!-- <service -->\r\n        <!-- android:name=\".service.ServiceDataWifi\" -->\r\n        <!-- android:enabled=\"true\" -->\r\n        <!-- android:exported=\"true\" /> -->\r\n        <activity android:name=\".ResetPassword\" />\r\n        <activity android:name=\".ForgetPassword\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".LoginPage\" />\r\n        <activity android:name=\".RegistrationPage\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".MainActivity\" />\r\n        <activity\r\n            android:name=\".Splash_Screen1\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/AndroidManifest.xml	(revision 2836eed82292e03880015038e5d95705888d93eb)
++++ app/src/main/AndroidManifest.xml	(date 1608806842328)
+@@ -30,6 +30,17 @@
+         android:roundIcon="@drawable/logo"
+         android:supportsRtl="true"
+         android:theme="@style/AppTheme">
++
++
++        <meta-data android:name="com.facebook.sdk.ApplicationId"
++            android:value="@string/facebook_app_id"/>
++
++        <activity android:name="com.facebook.FacebookActivity"
++            android:configChanges=
++                "keyboard|keyboardHidden|screenLayout|screenSize|orientation"
++            android:label="@string/app_name" />
++
++
+         <activity android:name=".Admin_Panel_Login">
+             <meta-data
+                 android:name="android.support.PARENT_ACTIVITY"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]/shelved.patch
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]/shelved.patch	(date 1608923895057)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]/shelved.patch	(date 1608923895057)
@@ -0,0 +1,28 @@
+Index: app/src/main/AndroidManifest.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.abhi.ourvedic\">\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <uses-permission-sdk-23 android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n    <uses-permission android:name=\"android.permission.VIBRATE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@drawable/logo\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".Admin_Panel_Login\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".Current_Ordre_Ap\" />\r\n        <activity android:name=\".Admin_Panel\" />\r\n        <activity android:name=\".Billing_Details\" />\r\n        <activity android:name=\".CartActivity\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".MainActivity\" />\r\n        </activity> <!-- <service -->\r\n        <!-- android:name=\".service.ServiceDataWifi\" -->\r\n        <!-- android:enabled=\"true\" -->\r\n        <!-- android:exported=\"true\" /> -->\r\n        <activity android:name=\".ResetPassword\" />\r\n        <activity android:name=\".ForgetPassword\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".LoginPage\" />\r\n        <activity android:name=\".RegistrationPage\">\r\n            <meta-data\r\n                android:name=\"android.support.PARENT_ACTIVITY\"\r\n                android:value=\".LoginPage\" />\r\n        </activity>\r\n        <activity android:name=\".MainActivity\" />\r\n        <activity\r\n            android:name=\".Splash_Screen1\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/AndroidManifest.xml	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/AndroidManifest.xml	(date 1608882071295)
+@@ -30,6 +30,17 @@
+         android:roundIcon="@drawable/logo"
+         android:supportsRtl="true"
+         android:theme="@style/AppTheme">
++
++
++        <meta-data android:name="com.facebook.sdk.ApplicationId"
++            android:value="@string/facebook_app_id"/>
++
++        <activity android:name="com.facebook.FacebookActivity"
++            android:configChanges=
++                "keyboard|keyboardHidden|screenLayout|screenSize|orientation"
++            android:label="@string/app_name" />
++
++
+         <activity android:name=".Admin_Panel_Login">
+             <meta-data
+                 android:name="android.support.PARENT_ACTIVITY"
+diff --git .idea/shelf/Uncommitted_changes_before_Update_at_22_12_2020_3_26_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Update_at_22_12_2020_3_26_PM__Default_Changelist_.xml
Index: .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]1/shelved.patch
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]1/shelved.patch	(date 1608923895068)
+++ .idea/shelf/Uncommitted_changes_before_Update_at_25-12-2020_11_46_PM_[Default_Changelist]1/shelved.patch	(date 1608923895068)
@@ -0,0 +1,347 @@
+Index: app/src/main/java/com/abhi/ourvedic/MainActivity.java
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>package com.abhi.ourvedic;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.Menu;\r\nimport android.widget.Toast;\r\n\r\nimport com.abhi.ourvedic.roomdatabase.MyDatabase;\r\nimport com.abhi.ourvedic.roomdatabase.RoomDB;\r\nimport com.abhi.ourvedic.ui.profile.ProfileFragment;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.snackbar.Snackbar;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n    FirebaseUser user = mAuth.getCurrentUser();\r\n    GoogleSignInClient mGoogleSignInClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent cart_intent = new Intent(getApplicationContext(),CartActivity.class);\r\n                startActivity(cart_intent);\r\n            }\r\n        });\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow, R.id.profileFragment)\r\n                .setDrawerLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()) {\r\n            case R.id.passwordreset:\r\n                passwordreset();\r\n                break;\r\n\r\n            case R.id.deleteaccount:\r\n                deleteuser();\r\n                break;\r\n\r\n            case R.id.logout:\r\n                logout();\r\n                break;\r\n            default:\r\n                Toast.makeText(this, \"Something is wrong\", Toast.LENGTH_SHORT).show();\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    private void passwordreset() {\r\n        SharedPreferences sh = getSharedPreferences(\"LoginID\", Context.MODE_PRIVATE);\r\n        String emailaddress = sh.getString(\"email\",null);\r\n        Intent intent = new Intent(MainActivity.this,ResetPassword.class);\r\n        intent.putExtra(\"email\",emailaddress);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void deleteuser() {\r\n        user.delete()\r\n                .addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<Void> task) {\r\n                        if (task.isSuccessful()) {\r\n                            Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                            startActivity(intent);\r\n                            finish();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void logout() {\r\n        mAuth.signOut();\r\n        mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                MyDatabase myDatabase = RoomDB.database(MainActivity.this);\r\n                myDatabase.dao().deleteprofiledata(1);\r\n                Intent intent = new Intent(MainActivity.this, LoginPage.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n}
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/java/com/abhi/ourvedic/MainActivity.java	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/java/com/abhi/ourvedic/MainActivity.java	(date 1608882071236)
+@@ -12,6 +12,7 @@
+ import com.abhi.ourvedic.roomdatabase.MyDatabase;
+ import com.abhi.ourvedic.roomdatabase.RoomDB;
+ import com.abhi.ourvedic.ui.profile.ProfileFragment;
++import com.facebook.login.widget.LoginButton;
+ import com.google.android.gms.auth.api.signin.GoogleSignIn;
+ import com.google.android.gms.auth.api.signin.GoogleSignInClient;
+ import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
+@@ -39,6 +40,7 @@
+     FirebaseAuth mAuth = FirebaseAuth.getInstance();
+     FirebaseUser user = mAuth.getCurrentUser();
+     GoogleSignInClient mGoogleSignInClient;
++    LoginButton loginButton;
+ 
+     @Override
+     protected void onCreate(Bundle savedInstanceState) {
+@@ -123,6 +125,8 @@
+     }
+ 
+     private void logout() {
++        loginButton = new LoginButton(MainActivity.this);
++        loginButton.performClick();
+         mAuth.signOut();
+         mGoogleSignInClient.signOut().addOnSuccessListener(new OnSuccessListener<Void>() {
+             @Override
+Index: app/src/main/res/layout/activity_admin__panel.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#ffffff\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".Admin_Panel\">\r\n    <TextView\r\n        android:id=\"@+id/tv_admin_panel\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"ADMIN PANEL\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textAppearance=\"?android:textAppearanceLarge\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginBottom=\"15dp\"/>\r\n    <GridLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center_horizontal\"\r\n        android:columnCount=\"2\">\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/current_orders\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_current_orders\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Current Orders\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_report\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Orders History\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_stock\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Stock\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/pins\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"Report\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_profits\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"transaction\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"15dp\"\r\n            app:cardElevation=\"5dp\"\r\n            app:cardCornerRadius=\"5dp\">\r\n            <LinearLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:padding=\"15dp\"\r\n                android:orientation=\"vertical\">\r\n                <ImageView\r\n                    android:layout_width=\"130dp\"\r\n                    android:layout_height=\"130dp\"\r\n                    android:src=\"@drawable/ic_profile\"/>\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"bottom|center_horizontal\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:text=\"User Profile\"/>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n    </GridLayout>\r\n</LinearLayout>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/layout/activity_admin__panel.xml	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/res/layout/activity_admin__panel.xml	(date 1608882071246)
+@@ -21,7 +21,7 @@
+     <GridLayout
+         android:layout_width="wrap_content"
+         android:layout_height="wrap_content"
+-        android:layout_gravity="center_horizontal"
++        android:layout_gravity="center"
+         android:columnCount="2">
+         <androidx.cardview.widget.CardView
+             android:id="@+id/current_orders"
+@@ -36,8 +36,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_current_orders"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -60,8 +60,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_report"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -84,8 +84,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_stock"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -108,8 +108,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/pins"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -132,8 +132,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_profits"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+@@ -156,8 +156,8 @@
+                 android:padding="15dp"
+                 android:orientation="vertical">
+                 <ImageView
+-                    android:layout_width="130dp"
+-                    android:layout_height="130dp"
++                    android:layout_width="120dp"
++                    android:layout_height="120dp"
+                     android:src="@drawable/ic_profile"/>
+                 <TextView
+                     android:layout_width="wrap_content"
+Index: app/src/main/res/layout/activity_login_page.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:background=\"@drawable/background\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center\"\r\n        android:orientation=\"vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        android:paddingTop=\"20dp\"\r\n        android:paddingBottom=\"20dp\"\r\n        android:paddingEnd=\"10dp\"\r\n        android:paddingStart=\"10dp\"\r\n        tools:context=\".LoginPage\">\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:padding=\"5dp\"\r\n            android:focusableInTouchMode=\"true\"\r\n            android:background=\"@drawable/bg_login_page_button1\"\r\n            android:textColorHint=\"#ffffff\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/loginemailteacher\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:textColor=\"#ffffff\"\r\n                android:backgroundTint=\"@android:color/transparent\"\r\n                android:textCursorDrawable=\"@drawable/cursor_color\"\r\n                android:paddingStart=\"30dp\"\r\n                android:paddingEnd=\"10dp\"\r\n                android:hint=\"Enter Your Email\" />\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"15dp\"\r\n            app:passwordToggleEnabled=\"true\"\r\n            app:passwordToggleTint=\"#ffffff\"\r\n            android:padding=\"5dp\"\r\n            android:background=\"@drawable/bg_login_page_button1\"\r\n            android:textColorHint=\"#ffffff\"\r\n            android:textColor=\"#ffffff\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/loginpasswordteacher\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:drawablePadding=\"10dp\"\r\n                android:textColor=\"#ffffff\"\r\n                android:hint=\"Enter Your Password\"\r\n                android:textCursorDrawable=\"@drawable/cursor_color\"\r\n                android:backgroundTint=\"@android:color/transparent\"\r\n                android:paddingStart=\"30dp\"\r\n                android:paddingEnd=\"20dp\"\r\n                android:inputType=\"textPassword\" />\r\n\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"75dp\"\r\n            android:orientation=\"horizontal\">\r\n            <TextView\r\n                android:id=\"@+id/login_as_admin\"\r\n                android:focusable=\"false\"\r\n                android:layout_weight=\"1\"\r\n                android:textSize=\"18sp\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Login as Admin\"\r\n                android:layout_gravity=\"center\"\r\n                android:textColor=\"#ffffff\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"/>\r\n            <TextView\r\n                android:id=\"@+id/forgetpassword\"\r\n                android:layout_weight=\"1\"\r\n                android:focusable=\"false\"\r\n                android:textSize=\"18sp\"\r\n                android:text=\"Forget Password?\"\r\n                android:textColor=\"#ffffff\"\r\n                android:gravity=\"center\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"/>\r\n        </LinearLayout>\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n            <Button\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"3dp\"\r\n                android:layout_weight=\"1\"\r\n                android:background=\"@drawable/bg_login_page_button2\"\r\n                android:onClick=\"loginbuttonteacher\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"        login        \"\r\n                android:textColor=\"#000000\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <Button\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_margin=\"3dp\"\r\n                android:layout_weight=\"1\"\r\n                android:padding=\"15dp\"\r\n                android:textColor=\"#000000\"\r\n                android:textStyle=\"bold\"\r\n                android:background=\"@drawable/bg_login_page_button2\"\r\n                android:onClick=\"registrationbutton\"\r\n                android:text=\"registration\" />\r\n\r\n        </LinearLayout>\r\n        <RelativeLayout\r\n            android:id=\"@+id/sign_in_button\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@drawable/bg_login_page_button2\"\r\n            android:layout_marginTop=\"20dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/sign_in_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_centerHorizontal=\"true\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"Sign In\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"18sp\"\r\n                android:textStyle=\"bold\"\r\n                android:translationX=\"10dp\" />\r\n\r\n            <ImageView\r\n                android:layout_width=\"25dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_toStartOf=\"@id/sign_in_text\"\r\n                android:src=\"@drawable/g_plus_icon\"\r\n                android:translationX=\"10dp\" />\r\n        </RelativeLayout>\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@drawable/bg_login_page_button2\"\r\n            android:layout_marginTop=\"20dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/facebook_sign_in_button\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_centerHorizontal=\"true\"\r\n                android:padding=\"15dp\"\r\n                android:text=\"Sign In\"\r\n                android:textColor=\"#000000\"\r\n                android:textSize=\"18dp\"\r\n                android:textStyle=\"bold\"\r\n                android:translationX=\"10dp\" />\r\n\r\n            <ImageView\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"25dp\"\r\n                android:layout_centerVertical=\"true\"\r\n                android:layout_toStartOf=\"@id/facebook_sign_in_button\"\r\n                android:src=\"@drawable/facebook_icon\"\r\n                android:translationX=\"10dp\" />\r\n        </RelativeLayout>\r\n    </LinearLayout>\r\n\r\n</ScrollView>\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/layout/activity_login_page.xml	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/res/layout/activity_login_page.xml	(date 1608882071258)
+@@ -152,7 +152,11 @@
+             android:layout_height="wrap_content"
+             android:background="@drawable/bg_login_page_button2"
+             android:layout_marginTop="20dp">
+-
++            <com.facebook.login.widget.LoginButton
++                android:id="@+id/login_button"
++                android:layout_width="wrap_content"
++                android:layout_height="wrap_content"
++                android:visibility="gone" />
+             <TextView
+                 android:id="@+id/facebook_sign_in_button"
+                 android:layout_width="wrap_content"
+Index: app/src/main/java/com/abhi/ourvedic/LoginPage.java
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>package com.abhi.ourvedic;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.SignInButton;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class LoginPage extends AppCompatActivity {\r\n\r\n    ProgressDialog progressDialog;\r\n    private static final String TAG = \"loginpage\";\r\n    private EditText temail, tpassword;\r\n    private GoogleSignInClient mgoogleSignInClient;\r\n    private String emailPattern = \"[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+\";\r\n    private static final String EMAIL = \"email\";\r\n    private TextView forgetText;\r\n    TextView login_as_admin;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_page);\r\n\r\n        progressDialog = new ProgressDialog(LoginPage.this);\r\n        RelativeLayout signInButton = findViewById(R.id.sign_in_button);\r\n        temail = findViewById(R.id.loginemailteacher);\r\n        tpassword = findViewById(R.id.loginpasswordteacher);\r\n        forgetText = findViewById(R.id.forgetpassword);\r\n        login_as_admin = findViewById(R.id.login_as_admin);\r\n        login_as_admin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent i = new Intent(LoginPage.this, Admin_Panel_Login.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        forgetText.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(LoginPage.this,ForgetPassword.class));\r\n            }\r\n        });\r\n        signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                progressDialog.setCancelable(false);\r\n                progressDialog.show();\r\n                progressDialog.setContentView(R.layout.progress_dialog_view);\r\n                progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n                signIn();\r\n            }\r\n        });\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n        // Build a GoogleSignInClient with the options specified by gso.\r\n        mgoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n    }\r\n\r\n\r\n    public void registrationbutton(View view) {\r\n        Intent i = new Intent(LoginPage.this, RegistrationPage.class);\r\n        startActivity(i);\r\n    }\r\n\r\n    public void loginbuttonteacher(View view) {\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.show();\r\n        progressDialog.setContentView(R.layout.progress_dialog_view);\r\n        progressDialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\n        final String email = temail.getText().toString().trim();\r\n        String password = tpassword.getText().toString();\r\n\r\n        if (email.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (!email.matches(emailPattern)) {\r\n            Toast.makeText(getApplicationContext(), \"not valid email address\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else if (password.isEmpty()) {\r\n            Toast.makeText(getApplicationContext(), \"enter password\", Toast.LENGTH_SHORT).show();\r\n            progressDialog.dismiss();\r\n        } else {\r\n            FirebaseAuth.getInstance().signInWithEmailAndPassword(email, password)\r\n                    .addOnCompleteListener(this, new OnCompleteListener<AuthResult>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<AuthResult> task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user's information\r\n                                SharedPreferences sh = getSharedPreferences(\"email\", Context.MODE_PRIVATE);\r\n                                SharedPreferences.Editor edit = sh.edit();\r\n                                edit.putString(\"email\",email);\r\n                                edit.commit();\r\n                                Log.d(TAG, \"signInWithEmail:success\");\r\n                                gotonext();\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Log.w(TAG, \"signInWithEmail:failure\", task.getException());\r\n                                progressDialog.dismiss();\r\n                                Toast.makeText(LoginPage.this, \"Authentication failed.\",\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            // ...\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\n    private void gotonext() {\r\n        progressDialog.dismiss();\r\n        Intent i = new Intent(LoginPage.this, MainActivity.class);\r\n        startActivity(i);\r\n        finish();\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mgoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, 1001);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);\r\n        if (requestCode == 1001) {\r\n            Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n            try {\r\n                // Google Sign In was successful, authenticate with Firebase\r\n                GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                Log.d(TAG, \"firebaseAuthWithGoogle:\" + account.getId());\r\n                firebaseAuthWithGoogle(account.getIdToken());\r\n            } catch (ApiException e) {\r\n                // Google Sign In failed, update UI appropriately\r\n                Log.w(TAG, \"Google sign in failed\", e);\r\n                // ...\r\n            }\r\n        }\r\n    }\r\n\r\n    private void firebaseAuthWithGoogle(String idToken) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(idToken, null);\r\n        FirebaseAuth.getInstance().signInWithCredential(credential)\r\n                .addOnCompleteListener(LoginPage.this, new OnCompleteListener<AuthResult>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<AuthResult> task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user's information\r\n                            Log.d(TAG, \"signInWithCredential:success\");\r\n                            progressDialog.dismiss();\r\n                            gotonext();\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            progressDialog.dismiss();\r\n                            Log.w(TAG, \"signInWithCredential:failure\", task.getException());\r\n                        }\r\n                        // ...\r\n                    }\r\n                });\r\n    }\r\n\r\n}\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/java/com/abhi/ourvedic/LoginPage.java	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/java/com/abhi/ourvedic/LoginPage.java	(date 1608882071273)
+@@ -15,6 +15,15 @@
+ import androidx.annotation.NonNull;
+ import androidx.appcompat.app.AppCompatActivity;
+ 
++import com.facebook.AccessToken;
++import com.facebook.AccessTokenTracker;
++import com.facebook.CallbackManager;
++import com.facebook.FacebookCallback;
++import com.facebook.FacebookException;
++import com.facebook.GraphRequest;
++import com.facebook.GraphResponse;
++import com.facebook.login.LoginResult;
++import com.facebook.login.widget.LoginButton;
+ import com.google.android.gms.auth.api.signin.GoogleSignIn;
+ import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
+ import com.google.android.gms.auth.api.signin.GoogleSignInClient;
+@@ -29,6 +38,11 @@
+ import com.google.firebase.auth.FirebaseAuth;
+ import com.google.firebase.auth.GoogleAuthProvider;
+ 
++import org.json.JSONException;
++import org.json.JSONObject;
++
++import java.util.Arrays;
++
+ public class LoginPage extends AppCompatActivity {
+ 
+     ProgressDialog progressDialog;
+@@ -39,6 +53,9 @@
+     private static final String EMAIL = "email";
+     private TextView forgetText;
+     TextView login_as_admin;
++    TextView facebook_sign_in_button;
++    private CallbackManager callbackManager;
++    LoginButton loginButton;
+ 
+     @Override
+     protected void onCreate(Bundle savedInstanceState) {
+@@ -62,7 +79,7 @@
+         forgetText.setOnClickListener(new View.OnClickListener() {
+             @Override
+             public void onClick(View view) {
+-                startActivity(new Intent(LoginPage.this,ForgetPassword.class));
++                startActivity(new Intent(LoginPage.this, ForgetPassword.class));
+             }
+         });
+         signInButton.setOnClickListener(new View.OnClickListener() {
+@@ -82,6 +99,39 @@
+                 .build();
+         // Build a GoogleSignInClient with the options specified by gso.
+         mgoogleSignInClient = GoogleSignIn.getClient(this, gso);
++
++
++        callbackManager = CallbackManager.Factory.create();
++
++        facebook_sign_in_button = findViewById(R.id.facebook_sign_in_button);
++        facebook_sign_in_button.setOnClickListener(new View.OnClickListener() {
++            @Override
++            public void onClick(View view) {
++                loginButton.performClick();
++            }
++        });
++
++        loginButton = findViewById(R.id.login_button);
++        loginButton.setReadPermissions(Arrays.asList(EMAIL));
++
++        loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {
++            @Override
++            public void onSuccess(LoginResult loginResult) {
++                // App code
++            }
++
++            @Override
++            public void onCancel() {
++                // App code
++            }
++
++            @Override
++            public void onError(FacebookException exception) {
++                // App code
++            }
++        });
++
++
+     }
+ 
+ 
+@@ -116,7 +166,7 @@
+                                 // Sign in success, update UI with the signed-in user's information
+                                 SharedPreferences sh = getSharedPreferences("email", Context.MODE_PRIVATE);
+                                 SharedPreferences.Editor edit = sh.edit();
+-                                edit.putString("email",email);
++                                edit.putString("email", email);
+                                 edit.commit();
+                                 Log.d(TAG, "signInWithEmail:success");
+                                 gotonext();
+@@ -148,6 +198,7 @@
+     @Override
+     public void onActivityResult(int requestCode, int resultCode, Intent data) {
+         super.onActivityResult(requestCode, resultCode, data);
++        callbackManager.onActivityResult(requestCode, resultCode, data); //for facebook login
+         // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent(...);
+         if (requestCode == 1001) {
+             Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
+@@ -183,6 +234,57 @@
+                         // ...
+                     }
+                 });
++
+     }
++
++    AccessTokenTracker tokenTracker = new AccessTokenTracker() {
++        @Override
++        protected void onCurrentAccessTokenChanged(AccessToken oldAccessToken, AccessToken currentAccessToken) {
++            if (currentAccessToken != null) {
++                Intent i2 = new Intent(LoginPage.this, MainActivity.class);
++                startActivity(i2);
++            } else {
++                loadUserProfile(currentAccessToken);
++            }
++        }
++    };
++
++    public void loadUserProfile(AccessToken newAccessToken) {
++        GraphRequest request = GraphRequest.newMeRequest(newAccessToken, new GraphRequest.GraphJSONObjectCallback() {
++            @Override
++            public void onCompleted(JSONObject object, GraphResponse response) {
++
++                Toast.makeText(LoginPage.this, "Two",Toast.LENGTH_SHORT).show();
++
++                //for abhishek
++                    /*
++                try {
++
++                    first_name = object.getString("first_name");
++                    last_name = object.getString("last_name");
++                    email = object.getString("email");
++                    id = object.getString("id");
++                    String img_url = "https://graph.facebook.com/"+ id + "/picture?type=normal";
++
++
++                    Intent i = new Intent(LoginActivity.this, MainActivity.class);
++                    i.putExtra("name", first_name + " " + last_name);
++                    i.putExtra("email", email);
++                    i.putExtra("img_url", img_url);
++                    Log.v("name", first_name + last_name);
++                    Log.v("email", email);
++                    startActivity(i);
++
++                } catch (JSONException e) {
++                    e.printStackTrace();
++                }
++                */
++            }
++        });
++        Bundle parameters = new Bundle();
++        parameters.putString("fields", "first_name,last_name,email,id");
++        request.setParameters(parameters);
++        request.executeAsync();
+ 
++    }
+ }
+Index: app/build.gradle
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.2\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.abhi.ourvedic\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'androidx.navigation:navigation-fragment:2.3.2'\r\n    implementation 'androidx.navigation:navigation-ui:2.3.2'\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.1'\r\n    implementation 'com.google.firebase:firebase-database:19.6.0'\r\n    implementation 'com.google.firebase:firebase-storage:19.2.1'\r\n    implementation 'com.google.firebase:firebase-firestore:22.0.1'\r\n    implementation 'com.google.firebase:firebase-dynamic-links'\r\n    implementation 'com.google.firebase:firebase-analytics'\r\n    implementation 'androidx.room:room-runtime:2.2.6'\r\n    testImplementation 'junit:junit:4.13.1'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n    implementation platform('com.google.firebase:firebase-bom:26.0.0')\r\n    implementation 'com.google.firebase:firebase-auth'\r\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\r\n    implementation 'com.google.android.gms:play-services-safetynet:17.0.0'\r\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\r\n    annotationProcessor 'androidx.room:room-compiler:2.2.6'\r\n\r\n}\r\n
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/build.gradle	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/build.gradle	(date 1608882071282)
+@@ -50,5 +50,6 @@
+     implementation 'com.github.bumptech.glide:glide:4.11.0'
+     annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'
+     annotationProcessor 'androidx.room:room-compiler:2.2.6'
++    implementation 'com.facebook.android:facebook-login:5.0.0'
+ 
+ }
+Index: app/src/main/res/values/strings.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><resources>\r\n    <string name=\"app_name\">Ourvedic</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n\r\n    <string name=\"menu_home\">Home</string>\r\n    <string name=\"menu_gallery\">Booking</string>\r\n    <string name=\"menu_slideshow\">Settings</string>\r\n    <string name=\"profile\">Profile</string>\r\n    <string name=\"passwordreset\">Password Reset</string>\r\n    <string name=\"deleteaccount\">Delete Account</string>\r\n    <string name=\"logout\">Logout</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"flat_house_no_building_apartment\">Flat, House no., Building, Apartment</string>\r\n    <string name=\"area_colony_street_no_sector\">Area, Colony, Street no., Sector</string>\r\n    <string name=\"landmark_e_g_near_apollo_hospital\">Landmark e.g. near Apollo Hospital</string>\r\n    <string name=\"town_city_with_state\">Town/City with State</string>\r\n    <string name=\"pin_code\">PIN code</string>\r\n    <string name=\"phone_number\">Phone Number</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"full_name\">Full Name</string>\r\n</resources>
+Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
+<+>UTF-8
+===================================================================
+--- app/src/main/res/values/strings.xml	(revision 503a2052e82292a8df2ffa16132d74f859408342)
++++ app/src/main/res/values/strings.xml	(date 1608882071289)
+@@ -6,6 +6,10 @@
+     <string name="nav_header_subtitle">android.studio@android.com</string>
+     <string name="nav_header_desc">Navigation header</string>
+ 
++    <string name="facebook_app_id">217810733256076</string>
++    <string name="fb_login_protocol_scheme">fb217810733256076</string>
++
++
+     <string name="menu_home">Home</string>
+     <string name="menu_gallery">Booking</string>
+     <string name="menu_slideshow">Settings</string>
